<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>ChatGPT SerCucTech ‚Äî Chat</title>
  <meta name="theme-color" content="#d4af37" />
  <style>
    :root{
      --bg:#050505; --panel:#0b0b0b; --line: rgba(212,175,55,.28);
      --gold:#d4af37; --txt:#f3f0e6; --mut:#b8ad8c; --r:18px;
      --shadow: 0 18px 55px rgba(0,0,0,.55);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--txt);
      background:
        radial-gradient(1200px 700px at 20% -10%, rgba(212,175,55,.12), transparent 55%),
        radial-gradient(900px 600px at 120% 10%, rgba(255,222,122,.10), transparent 60%),
        linear-gradient(180deg, #020202, #070707 40%, #030303);
    }
    .app{
      height:100%;
      display:grid;
      grid-template-rows:auto 1fr auto;
      gap:12px;
      padding: env(safe-area-inset-top) 14px env(safe-area-inset-bottom) 14px;
      max-width:980px; margin:0 auto;
    }
    header{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      background: rgba(0,0,0,.35);
      border:1px solid var(--line);
      border-radius: var(--r);
      padding:10px 12px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(8px);
    }
    .title{display:flex; flex-direction:column; min-width:0}
    .title b{font-size:16px; color:#000; background:linear-gradient(180deg, rgba(255,222,122,.95), rgba(212,175,55,.85));
      display:inline-block; padding:2px 10px; border-radius:999px; border:1px solid rgba(0,0,0,.25); width:max-content; max-width:100%;
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .title small{color:var(--mut); margin-top:6px}
    .row{display:flex; gap:8px; align-items:center; flex-wrap:wrap; justify-content:flex-end}
    button, a.btn{
      appearance:none; border:1px solid rgba(212,175,55,.35);
      background: rgba(0,0,0,.25);
      color:var(--txt); border-radius:14px; padding:9px 12px; font-weight:700;
      cursor:pointer;
    }
    button.gold{background:linear-gradient(180deg, rgba(255,222,122,.95), rgba(212,175,55,.80)); color:#000;}
    button:disabled{opacity:.55; cursor:not-allowed}
    .panel{
      background: rgba(0,0,0,.35);
      border:1px solid var(--line);
      border-radius: var(--r);
      box-shadow: var(--shadow);
      overflow:hidden;
      display:flex; flex-direction:column;
      min-height:0;
    }
    #log{
      padding:12px;
      overflow:auto;
      flex:1 1 auto;
    }
    .msg{max-width:88%; padding:10px 12px; border-radius:16px; border:1px solid rgba(212,175,55,.18); margin:8px 0; line-height:1.25}
    .me{margin-left:auto; background: rgba(212,175,55,.08)}
    .bot{margin-right:auto; background: rgba(0,0,0,.25)}
    .meta{font-size:12px; color:var(--mut); margin-top:6px}
    .composer{
      padding:10px;
      border-top:1px solid var(--line);
      display:grid;
      grid-template-columns: 1fr auto auto;
      gap:8px;
      align-items:center;
      background: rgba(0,0,0,.25);
    }
    textarea{
      width:100%; min-height:44px; max-height:120px;
      resize:vertical;
      border-radius:14px;
      border:1px solid rgba(212,175,55,.35);
      background: rgba(0,0,0,.20);
      color:var(--txt);
      padding:10px 12px;
      outline:none;
    }
    .hint{padding:0 12px 12px; color:var(--mut); font-size:12px}
    kbd{border:1px solid rgba(212,175,55,.35); padding:1px 6px; border-radius:8px; background:rgba(0,0,0,.25); color:var(--txt)}
  </style>

  <!-- HARD: blocco TTS se Spiegazioni OFF -->
  <script src="system/guide/ttsfix.js" defer></script>
  <script src="system/chatgpt.js" defer></script>
</head>

<body>
  <div class="app">
    <header>
      <div class="title">
        <b>ChatGPT SerCucTech</b>
        <small id="status">Offline ‚Ä¢ pronto</small>
      </div>

      <div class="row">
        <a class="btn" href="index.html" aria-label="Torna al HUB">‚Üê HUB</a>
        <button id="btnSpeak" class="gold" aria-label="Attiva o disattiva voce">Voce: ON</button>
        <button id="btnClear" aria-label="Cancella chat">Pulisci</button>
      </div>
    </header>

    <div class="panel" role="region" aria-label="Chat">
      <div id="log"></div>
      <div class="hint">
        Suggerimenti: scrivi <kbd>hub</kbd>, <kbd>note</kbd>, <kbd>bios</kbd>, <kbd>control</kbd>, <kbd>vetrine</kbd>, <kbd>media</kbd>.
        Oppure: <kbd>guida hub</kbd>, <kbd>guida note</kbd>.
      </div>
      <div class="composer">
        <textarea id="txt" placeholder="Scrivi qui‚Ä¶ (invio per mandare)" aria-label="Messaggio"></textarea>
        <button id="btnMic" aria-label="Parla col microfono">üéôÔ∏è</button>
        <button id="btnSend" class="gold" aria-label="Invia messaggio">Invia</button>
      </div>
    </div>
  </div>
</body>
</html>
